package Relationship;

import java.util.Random;


public class Lazel extends NPC {
    
    public String imagePath; // null = ใช้รูปเดิม, ใส่ path = เปลี่ยนรูป

    public Lazel() {
        super("Lazel");
    }

    @Override
    protected String getRandomDialogue(int level) {
        String[] dialogues;
        if (level < 2) {
            dialogues = new String[]{
                "มองหน้าทำไม? อยากโดนดาบเฉือนจมูกเล่นหรือไงฮะ?",
                "หลีกไป! ข้าต้องรีบไปลับดาบ... อย่ามาเกะกะขวางทาง!",
                "เจ้า... ดูท่าทางอ่อนแอชะมัด จะรอดคืนนี้ไหมเนี่ย?",
                "ถ้าเจอสไลม์ก็อย่าร้องไห้ล่ะ... ข้าไม่ว่างไปช่วยเช็ดน้ำตาหรอกนะ",
                "ดาบของเจ้า... สนิมเขรอะเชียว... ดูแลอาวุธบ้างนะเจ้าบื้อ",
                "ข้าคือ Lazel นักล่ามังกรที่เก่งที่สุด! จำชื่อใส่กะโหลกไว้ซะ!",
                "อย่ามาเดินตามข้า! ข้าไม่ใช่พี่เลี้ยงเด็กนะเว้ย!",
                "อะไร? จะท้าดวลเหรอ? เข้ามาสิ... ข้าต่อให้ใช้มือเดียวเลย!",
                "น่ารำคาญจริง... ไปให้พ้นหน้าข้าได้แล้ว!",
                "หมู่นี้พวกมือสมัครเล่นเยอะจริง... เจ้าก็หนึ่งในนั้นสินะ"
            };
        } else if (level < 4) {
            dialogues = new String[]{
                "ไง! วันนี้เราจะไปล่าตัวอะไรกันดี? มังกรดิน หรือ ไวเวิร์น?",
                "เฮ้ย... แผลที่แขนเจ้าหายดียัง? ...ข้าไม่ได้ห่วงนะ! แค่กลัวเจ้าเป็นตัวถ่วง!",
                "ฝีมือดาบของเจ้าพัฒนาขึ้นนี่หว่า... เริ่มจะตามข้าทันแล้วนะ",
                "วันนี้ข้าย่างเนื้อมาแบ่ง... เอ้า! กินซะ! จะได้มีแรงแบกของให้ข้า",
                "เจ้าเนี่ย... บ้าบิ่นกว่าที่คิดแฮะ ข้าเริ่มถูกใจเจ้าแล้วสิ",
                "ถ้ามีใครมารังแกเจ้า บอกข้านะ... ข้าจะไปถล่มมันให้เละ!",
                "เชื่อใจข้า! ข้าจะระวังหลังให้เจ้าเอง... เราจะไม่ทิ้งกันกลางสนามรบ",
                "นั่งดื่มเบียร์ฉลองชัยชนะด้วยกันหน่อยไหมสหาย? มื้อนี้ข้าเลี้ยงเอง!",
                "ดาบของข้า กับโล่ของเจ้า... เป็นคู่ที่สมบูรณ์แบบว่ะ ว่าไหม?",
                "อยู่กับเจ้าแล้ว... ข้ารู้สึกว่าเลือดในกายมันสูบฉีดพล่านไปหมด!"
            };
        } else {
            dialogues = new String[]{
                "มาช้าจังวะ! ...ข้ารอเจ้าตั้งนาน... (หน้าแดง) คิดถึงเว้ย!",
                "อย่ายิ้มแบบนั้นดิ... ข้าแพ้รอยยิ้มโง่ๆ ของเจ้า... รู้ตัวบ้างไหมเนี่ย!",
                "เจ้าคือคู่หูคนเดียวที่ข้ายอมฝากชีวิตไว้... ห้ามตายก่อนข้านะ เข้าใจไหม!",
                "เลิกเป็นคู่หูเถอะ... มาเป็นคู่ชีวิตข้าดีกว่า... กล้าปฏิเสธแม่จะฟันให้!",
                "เวลาข้าเหนื่อย... ขอกอดเจ้าหน่อยได้ไหม? ...แค่แปปเดียวพอน่า!",
                "ใครหน้าไหนกล้าแตะต้องเจ้า... มันต้องข้ามศพข้าไปก่อน!",
                "เจ้าทำให้ข้า... อยากวางดาบแล้วมานั่งดูดาวโง่ๆ แบบนี้... บ้าชะมัด",
                "รักนะเว้ย! ...ได้ยินไหม! ต้องให้ตะโกนบอกทั่งหมู่บ้านเลยไหมฮะ!",
                "ต่อให้มังกรพันตัวบุกมา... ข้าก็ไม่กลัว... ถ้ามีเจ้าอยู่ข้างๆ",
                "เจ้าเป็นของข้า... คนเดียว... ตลอดไป... เข้าใจตรงกันนะ!"
            };
        }
        return dialogues[new Random().nextInt(dialogues.length)];
    }

    @Override
    protected String getSpecialScene(int level) {
        // ใช้ getDialogueTree แทนแล้ว แต่เก็บไว้เผื่อ fallback
        return switch (level) {
            case 1 -> "— พบกับ Lazel เป็นครั้งแรก —";
            case 2 -> "— Lazel เริ่มไว้ใจเจ้า —";
            case 3 -> "— Lazel ยอมรับเจ้าเป็นสหาย —";
            case 4 -> "— Lazel เปิดใจให้เจ้า —";
            case 5 -> "— Lazel สารภาพรัก —";
            default -> "...";
        };
    }

    // ============================================================
    // ระบบ Dialogue Tree
    // ============================================================

    /**
     * คืนค่า root node ของ Dialogue Tree ตาม heartLevel
     * SpecialScenePanel จะรับ node นี้แล้ว traverse ไปเรื่อยๆ
     */
    public DialogueNode getDialogueTree(int level) {
        return switch (level) {
            case 1 -> buildLevel1Tree();
            // level อื่นๆ เพิ่มทีหลัง
            default -> buildLevel1Tree();
        };
    }

    // ============================================================
    // Level 1 Dialogue Tree (ตามตาราง)
    // ============================================================
    private DialogueNode buildLevel1Tree() {

        // ===== END nodes =====
        DialogueNode endBad   = new DialogueNode("Lazel", "(สายตาเย็นชา) ไม่มีอะไรจะพูดแล้ว... หลีกทางด้วย", true);
        DialogueNode endGood  = new DialogueNode("Lazel", "(ผายมือ) ก็ได้... เจอกันใหม่นะ ถ้าไม่ตายเสียก่อน", true);
        DialogueNode endNormal= new DialogueNode("Lazel", "(เดินจากไป) ...", true);
        DialogueNode endBest  = new DialogueNode("Lazel", "(ตบหลังแรงๆ แล้วเดินนำ) ตามมาได้เลย! อย่าเตะตีนข้าล่ะ!", true);

        // ===== 1.5A =====
        DialogueNode n1_5A = new DialogueNode("Lazel",
            "\"เออ! พูดได้ดี! ...อย่าทำให้ข้าผิดหวังล่ะคู่หู! เจอกันเย็นนี้!\" (ตบหลังคุณดังปึก)");
            n1_5A.imagePath = "image\\Scene\\LazelScene1\\ตาธรรมดา.png"; // ใส่รูปที่ต้องการ
        n1_5A.addChoice("โอ้ย! มือหนักชะมัด... แต่ก็เจอกันครับ!", endBest)
             .addChoice("ครับผม", endGood)
             .addChoice("เริ่มไม่อยากไปละ", endNormal);

        // ===== 1.5B =====
        DialogueNode n1_5B = new DialogueNode("Lazel",
            "\"เออ... ไปละ ข้าต้องไปซ้อมต่อ\" (เดินจากไปแบบหงุดหงิดนิดๆ)");
        n1_5B.addChoice("ไว้เจอกัน", endGood)
             .addChoice("(เดินแยกทาง)", endNormal)
             .addChoice("อย่าลืมอาบน้ำนะ!", endBad);

        // ===== 1.5C =====
        DialogueNode n1_5C = new DialogueNode("Lazel",
            "\"ธิ... เสียอารมณ์ชะมัด เจอแต่พวกไม่ได้เรื่อง\" (เดินกระแทกไหล่คุณผ่านไป)");
        n1_5C.addChoice("นิสัยเสีย!", endBad)
             .addChoice("(ไม่สนใจ)", endNormal)
             .addChoice("เดี๋ยวสิ!", endNormal);

        // ===== 1.4A =====
        DialogueNode n1_4A = new DialogueNode("Lazel",
            "(หน้าแดงเล็กน้อย) \"อะ... อะไรของเจ้า... ชมกันโต้งๆ แบบนี้เลยเหรอ... ธิ... ก็ไม่เลว\"");
            n1_4A.imagePath = "image\\Scene\\LazelScene1\\เขิน.png"; // ใส่รูปที่ต้องการ
        n1_4A.addChoice("เย็นนี้ว่าง? ไปหาโรกันเถอะ", n1_5A)
             .addChoice("งั้นไว้เจอกันนะ", n1_5B)
             .addChoice("เป็นเหรอครับ?", n1_5A);

        // ===== 1.4B =====
        DialogueNode n1_4B = new DialogueNode("Lazel",
            "\"ฮ่า! เตรียมตัวแพ้ได้เลย... แต่ถ้าเจ้าฝีมือดีจริง ข้าอาจจะพิจารณาให้มาร่วมปาร์ตี้ก็ได้นะ\"");
            n1_4B.imagePath = "image\\Scene\\LazelScene1\\ยิ้มมุมปาก.png"; // ใส่รูปที่ต้องการ
        n1_4B.addChoice("ผมจะทำให้ท่านยอมรับเอง", n1_5A)
             .addChoice("ใครอยากอยู่กับเธอกัน", n1_5C)
             .addChoice("ถ้าข้าชนะ เธอต้องมาเข้าปาร์ตี้บ้านนะ", n1_5A);

        // ===== 1.4C =====
        DialogueNode n1_4C = new DialogueNode("Lazel",
            "\"ปากดีนักนะ... หวังว่าฝีมือดาบจะดีเหมือนฝีปากละกัน อย่าตายคาดาบข้าชะก่อนนะ\"");
        n1_4C.addChoice("สบายมาก", n1_5B)
             .addChoice("เธอนั่นแหละระวังตัวไว้", n1_5C)
             .addChoice("ออมมือให้ด้วยนะครับ", n1_5B);

        // ===== 1.3A =====
        DialogueNode n1_3A = new DialogueNode("Lazel",
            "\"เออ! พูดจาเข้าหูดีนี่หว่า... ข้าชื่อ Lazel เป็นเอซของที่นี่ จำชื่อนี้ใส่กะโหลกไว้ซะล่ะ!\"");
            n1_3A.imagePath = "image\\Scene\\LazelScene1\\ตาธรรมดา.png"; // ใส่รูปที่ต้องการ
        n1_3A.addChoice("ยินดีที่ได้รู้จัก Lazel ผมชื่อ Champ", n1_4A)
             .addChoice("เอซ? โม้รึเปล่าเนี่ย?", n1_4B)
             .addChoice("ครับๆ คุณเอซ", n1_4B);

        // ===== 1.3B =====
        DialogueNode n1_3B = new DialogueNode("Lazel",
            "\"ฮะ? ระดับตำนาน? สภาพแห้งๆ อย่างเจ้าเนี่ยนะ? (หัวเราะลั่น) มุกตลกใช้ได้นี่หว่า! ข้าชอบคนตลกนะเว้ย!\"");
        n1_3B.addChoice("หัวเราะแล้วน่ารักดีนะครับ ยิ้มบ่อยๆ สิ", n1_4A)
             .addChoice("เดี๋ยวก็รู้ว่าตลกหรือของจริง", n1_4C)
             .addChoice("ข้าเคยฆ่ามังกรด้วยมือเปล่ามาแล้ว", n1_4B);

        // ===== 1.3C =====
        DialogueNode n1_3C = new DialogueNode("Lazel",
            "(แววตาวาวโรจน์) \"โธ่... ท้าทายข้าเหรอ? Lazel ผู้นี้ไม่เคยปฏิเสธคำท้านะ... เย็นนี้เจอกันที่ลานประลอง ห้ามหนีนะเว้ย!\"");
            n1_3C.imagePath = "image\\Scene\\LazelScene1\\ตาไฟ.png"; // ใส่รูปที่ต้องการ
        n1_3C.addChoice("รับคำท้า! ใครแพ้เลี้ยงข้าว!", n1_4C)
             .addChoice("ไม่เอาอะ ยี้เกียจ", endBad)
             .addChoice("แน่ใจนะ? เดี๋ยวร้องให้ยิ่งมูกโป่งนะ", n1_4C);

        // ===== 1.2A =====
        DialogueNode n1_2A = new DialogueNode("Lazel",
            "\"ฮึ! ...รู้จักขอโทษก็ดี (ปัดฝุ่น) นึกว่าจะปากเก่งเหมือนพวกหน้าใหม่คนอื่น... เจ้าเป็นเด็กใหม่เหรอ? ไม่คุ้นหน้าเลย\"");
            n1_2A.imagePath = "image\\Scene\\LazelScene1\\ปัดฝุ่น.png"; // ใส่รูปที่ต้องการ
        n1_2A.addChoice("ใช่ครับ เพิ่งย้ายมาเรียนล่ามังกร ฝากตัวด้วยนะ", n1_3A)
             .addChoice("ข้าเป็นนักล่าระดับตำนาน แค่ปลอมตัวมาดูงาน", n1_3B)
             .addChoice("ไม่ใช่เรื่องของเจ้า", n1_3C);

        // ===== 1.2B =====
        DialogueNode n1_2B = new DialogueNode("Lazel",
            "\"หา!? ...กล้าดียังไงมาเรียกข้าแบบนั้นฮะ! อยากลองชิมรสชาติดาบข้าหน่อยไหม!?\"");
        n1_2B.addChoice("ก็มาดิครับ! คิดว่ากลัวเหรอ?", n1_3C)
             .addChoice("เฮ้ย ใจเย็นๆ ผมล้อเล่นครับพี่สาว", n1_2A)
             .addChoice("(วิ่งหนีสุดชีวิต)", endBad);

        // ===== 1.2C =====
        DialogueNode n1_2C = new DialogueNode("Lazel",
            "(ยิ้มมุมปาก ภูมิใจ) \"ตาถึงนี่หว่า... นี่คือดาบเขี้ยวมังกร ของตกทอดจากพ่อข้าเอง อยากดูใกล้ๆ ไหมล่ะ?\"");
            n1_2C.imagePath = "image\\Scene\\LazelScene1\\ยิ้มมุมปาก.png"; // ใส่รูปที่ต้องการ
        n1_2C.addChoice("เท่มาก เหมาะกับนักรบอย่างท่านเลย", n1_3A)
             .addChoice("ดูเก่าไปหน่อยนะ สนิมขึ้นแล้วมั้ง", n1_2B)
             .addChoice("ก็งั้นๆ แหละ นึกว่าดาบเทพ", n1_3C);

        // ===== ROOT 1.1 =====
        DialogueNode root = new DialogueNode("Lazel",
            "(วิ่งชนคุณเต็มแรงจนล้ม) \"โอ๊ย! ...เฮ้ย! เดินดูตาม้าตาเรือหน่อยสิวะ! ดาบข้าเกือบจะทิ่มตาเจ้าบอดแล้วเห็นไหมเนี่ย!?\"");
            root.imagePath = "image\\Scene\\LazelScene1\\อาการเจ็บ.png"; // ใส่รูปที่ต้องการ
        root.addChoice("ขอโทษครับ ผมไม่ทันระวังเอง คุณเจ็บตรงไหนไหม?", n1_2A)
            .addChoice("เจ้าแหละวิ่งไม่ดูทาง ยัยม้าดีดกะโหลก!", n1_2B)
            .addChoice("โว้ว! ดาบสวยดีนี่... ขอดูหน่อยสิ", n1_2C);

        return root;
    }
}